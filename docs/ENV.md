# Configuration

The following environment variables are available to configure the bom generation behavior.

| Variable                        | Description                                                                                                                                                                                                                                                                                                                         |
| ------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| CDXGEN_DEBUG_MODE               | Set to `debug` to enable debug messages                                                                                                                                                                                                                                                                                             |
| GITHUB_TOKEN                    | Specify GitHub token to prevent traffic shaping while querying license and repo information                                                                                                                                                                                                                                         |
| MVN_CMD                         | Set to override maven command                                                                                                                                                                                                                                                                                                       |
| MVN_ARGS                        | Set to pass additional arguments such as profile or settings to maven                                                                                                                                                                                                                                                               |
| MAVEN_HOME                      | Specify maven home                                                                                                                                                                                                                                                                                                                  |
| PREFER_MAVEN_DEPS_TREE          | Use maven `dependency:tree` command instead of the cyclonedx maven plugin. Defaults to true from v11. Set to false to use the cyclonedx-maven-plugin.                                                                                                                                                                               |
| MAVEN_CENTRAL_URL               | Specify URL of Maven Central for metadata fetching (e.g. when private repo is used)                                                                                                                                                                                                                                                 |
| ANDROID_MAVEN_URL               | Specify URL of Android Maven Repository for metadata fetching (e.g. when private repo is used)                                                                                                                                                                                                                                      |
| BAZEL_ARGS                      | Additional arguments for Bazel command. Eg: --bazelrc=bazelrc.remote                                                                                                                                                                                                                                                                |
| BAZEL_TARGET                    | Bazel target to build. Default :all (Eg: //java-maven)                                                                                                                                                                                                                                                                              |
| BAZEL_STRIP_MAVEN_PREFIX        | Strip Maven group prefix (e.g. useful when private repo is used, defaults to `/maven2/`)                                                                                                                                                                                                                                            |
| BAZEL_USE_ACTION_GRAPH          | SBOM for specific Bazel target, uses `bazel aquery 'outputs(".*.jar", deps(<BAZEL_TARGET>))'` (defaults to `false`)                                                                                                                                                                                                                 |
| GRADLE_CACHE_DIR                | Specify gradle cache directory. Useful for class name resolving                                                                                                                                                                                                                                                                     |
| GRADLE_MULTI_PROJECT_MODE       | Unused. Automatically handled                                                                                                                                                                                                                                                                                                       |
| GRADLE_ARGS                     | Set to pass additional arguments such as profile or settings to gradle (all tasks). Eg: `--init-script <your-script>.gradle`                                                                                                                                                                                                        |
| GRADLE_ARGS_PROPERTIES          | Set to pass additional arguments only to the `gradle properties` task, used for collecting metadata about the project.                                                                                                                                                                                                              |
| GRADLE_ARGS_DEPENDENCIES        | Set to pass additional arguments only to the `gradle dependencies` task, used for listing actual project dependencies. Eg: `--configuration runtimeClassPath`                                                                                                                                                                       |
| GRADLE_HOME                     | Specify gradle home                                                                                                                                                                                                                                                                                                                 |
| GRADLE_CMD                      | Set to override gradle command                                                                                                                                                                                                                                                                                                      |
| GRADLE_DEPENDENCY_TASK          | By default cdxgen use the task "dependencies" to collect packages. Set to override the task name.                                                                                                                                                                                                                                   |
| GRADLE_INCLUDED_BUILDS          | Comma-separated list of 'includedBuilds' modules that should be scanned on top of all the modules of your projects. Since includedBuilds can't be found automatically, they have to be listed here. Use gradle-conventions (include the ':'-prefix) for the names.                                                                  |
| GRADLE_RESOLVE_FROM_NODE        | If some of your gradle modules are included from node (eg when using expo or react-native), set this to true to use the npm-packages as your dependencies. The big advantage of this, is that the generated purls will be of actually known components (eg in OSS Index) instead of generic names for the packages.                 |
| GRADLE_SKIP_MODULE_DEPENDENCIES | Comma-separated list of modules to skip during the "dependencies" task. This can be useful if you have modules that would fail the gradle build, eg when they do not have dependencies in the given configuration. Use "root" if the top most module should be skipped, use their gradle-name (so WITH leading ":") for all others. |
| GRADLE_SKIP_MODULES             | Comma-separated list of modules to skip for both "properties" and "dependencies" task. Use the gradle-name (so WITH leading ":"). NOTICE: when using this, neither the configured ID (group, name & version) nor the dependencies of these modules will be available!                                                               |
| SBT_CACHE_DIR                   | Specify sbt cache directory. Useful for class name resolving                                                                                                                                                                                                                                                                        |
| FETCH_LICENSE                   | Set this variable to `true` or `1` to fetch license information from the registry. npm and golang                                                                                                                                                                                                                                   |
| SEARCH_MAVEN_ORG                | If maven metadata is missing in jar file, a search is performed on search.maven.org. Set to `false` or `0` to disable search. (defaults to `true`)                                                                                                                                                                                  |
| USE_GOSUM                       | Set to `true` or `1` to generate BOMs for golang projects using go.sum as the dependency source of truth, instead of go.mod                                                                                                                                                                                                         |
| CDXGEN_TIMEOUT_MS               | Default timeout for known execution involving maven, gradle or sbt                                                                                                                                                                                                                                                                  |
| CDXGEN_MAX_BUFFER               | Max buffer for stdout and stderr. Defaults to 100MB                                                                                                                                                                                                                                                                                 |
| CDXGEN_SERVER_TIMEOUT_MS        | Default timeout in server mode                                                                                                                                                                                                                                                                                                      |
| CLJ_CMD                         | Set to override the clojure cli command                                                                                                                                                                                                                                                                                             |
| LEIN_CMD                        | Set to override the leiningen command                                                                                                                                                                                                                                                                                               |
| SBOM_SIGN_ALGORITHM             | Signature algorithm. Some valid values are RS256, RS384, RS512, PS256, PS384, PS512, ES256 etc                                                                                                                                                                                                                                      |
| SBOM_SIGN_PRIVATE_KEY           | Private key to use for signing                                                                                                                                                                                                                                                                                                      |
| SBOM_SIGN_PUBLIC_KEY            | Optional. Public key to include in the SBOM signature                                                                                                                                                                                                                                                                               |
| CDX_MAVEN_PLUGIN                | CycloneDX Maven plugin to use. Default "org.cyclonedx:cyclonedx-maven-plugin:2.7.8"                                                                                                                                                                                                                                                 |
| CDX_MAVEN_GOAL                  | CycloneDX Maven plugin goal to use. Default makeAggregateBom. Other options: makeBom, makePackageBom                                                                                                                                                                                                                                |
| CDX_MAVEN_INCLUDE_TEST_SCOPE    | Whether test scoped dependencies should be included from Maven projects, Default: true                                                                                                                                                                                                                                              |
| ASTGEN_IGNORE_DIRS              | Comma separated list of directories to ignore while analyzing using babel. The environment variable is also used by atom and astgen.                                                                                                                                                                                                |
| ASTGEN_IGNORE_FILE_PATTERN      | Ignore regex to use                                                                                                                                                                                                                                                                                                                 |
| PYPI_URL                        | Override PyPi URL. Default: https://pypi.org/pypi/                                                                                                                                                                                                                                                                                  |
| NPM_URL                         | Override NPM registry URL. Default: https://registry.npmjs.org/                                                                                                                                                                                                                                                                     |
| GO_PKG_URL                      | Override Go pkg URL. Default: https://pkg.go.dev/                                                                                                                                                                                                                                                                                   |
| RUST_CRATES_URL                 | Override Rust Crates URL. Default: https://crates.io/api/v1/crates/                                                                                                                                                                                                                                                                 |
| NUGET_URL                       | Override NuGet URL. Default is URL from registration hive "RegistrationsBaseUrl/3.6.0" at NuGet V3 API (https://api.nuget.org/v3/index.json). See more at https://learn.microsoft.com/en-us/nuget/api/registration-base-url-resource/                                                                                               |
| DOCKER_CONFIG                   | Alternative path to $HOME/.docker                                                                                                                                                                                                                                                                                                   |
| DOCKER_AUTH_CONFIG              | Perform docker login prior to invoking cdxgen. The file $HOME/.docker/config.json would be automatically read if available. Base64 encoded (json) with credentials: `{'username': string, 'password': string, 'email': string, 'serveraddress' : string}`. Alternatively, set the below 4 environment variables.                    |
| DOCKER_USER                     | Docker username                                                                                                                                                                                                                                                                                                                     |
| DOCKER_PASSWORD                 | Docker password                                                                                                                                                                                                                                                                                                                     |
| DOCKER_EMAIL                    | Docker email                                                                                                                                                                                                                                                                                                                        |
| DOCKER_SERVER_ADDRESS           | Docker server address                                                                                                                                                                                                                                                                                                               |
| DOCKER_CMD                      | Override docker command. Use with nerdctl or podman                                                                                                                                                                                                                                                                                 |
| DOCKER_HOST                     | Docker host. For tcp and ssh hosts, docker cli would be used to pull the image                                                                                                                                                                                                                                                      |
| DOCKER_CERT_PATH                | Path to the certs directory containing cert.pem and key.pem                                                                                                                                                                                                                                                                         |
| DOCKER_TLS_VERIFY               | Set to empty value to disable tls for insecure registries                                                                                                                                                                                                                                                                           |
| NODE_OPTIONS                    | If you are experiencing Out Of Memory issues, consider increase the node heap (ie: `--max-old-space-size=8192`)                                                                                                                                                                                                                     |
| NPM_INSTALL_ARGS                | Set to pass additional arguments such as `--package-lock-only` to the npm install command                                                                                                                                                                                                                                           |
| SWIFT_COMPILER_ARGS             | Full compiler arguments string to use for semantic analysis. Eg: -sdk <path> -F <path> -Xcc -I <path>                                                                                                                                                                                                                               |
| SWIFT_SDK_ARGS                  | Swift sdk arguments. Eg: -sdk <path>                                                                                                                                                                                                                                                                                                |
| SWIFT_COMPILER_EXTRA_ARGS       | Extra compiler arguments to add to the auto-detected string. Eg: -suppress-warnings -track-system-dependencies                                                                                                                                                                                                                      |
